USE itb_bi6;

DROP TABLE IF EXISTS order_table_ext;
CREATE TABLE order_table_ext (
    order_id BIGINT,
    order_date DATE,
    user_id BIGINT,
    product_cate_id INT,
    order_value FLOAT,
    PRIMARY KEY (order_id)
);

ALTER TABLE order_table_ext
	ADD FOREIGN KEY (product_cate_id) REFERENCES product_table(product_cate_id),
	ADD FOREIGN KEY (user_id) REFERENCES user_table(user_id)
ON DELETE SET NULL;

INSERT INTO order_table_ext VALUES
(150151, '2021-05-01', 101, 1, 150000),
(178151, '2021-05-06', 102, 5, 300000),
(178629, '2021-07-06', 101, 2, 250000),
(180053, '2021-07-01', 103, 3, 89000),
(184235, '2021-08-10', 102, 5, 50000),
(196325, '2021-05-27', 103, 4, 140000),
-- New dummy values for Question 4
(151394, '2021-07-10', 101, 3, 100000),
(139784, '2021-07-21', 101, 5, 15000),
(167820, '2021-07-12', 102, 1, 20000),
(173921, '2021-07-23', 102, 1, 20000),
(198210, '2021-07-22', 105, 1, 20000),
(198102, '2021-07-14', 105, 5, 20000),
(134221, '2021-07-17', 105, 3, 90000),
(109232, '2021-07-10', 104, 3, 13000),
(163201, '2021-07-08', 104, 4, 30000),
-- New dummy values for Question 5
(151395, '2021-05-10', 101, 3, 100000),
(139787, '2021-05-21', 101, 5, 15000),
(167825, '2021-05-12', 102, 1, 20000),
(173924, '2021-05-23', 102, 1, 20000),
(198215, '2021-05-22', 105, 1, 20000),
(198103, '2021-05-14', 105, 5, 20000),
(134224, '2021-05-17', 105, 3, 90000),
(109231, '2021-05-10', 104, 3, 13000),
(163205, '2021-05-08', 104, 4, 30000);
